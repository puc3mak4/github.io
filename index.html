<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¬ VIDEO PLAYER</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial; background: #fff; color: #000; }
        .container { max-width: 100%; margin: 0 auto; padding: 0 8px; }
        
        .header { background: #fff; padding: 16px 0; }
        .logo { 
            background: #fff; border-radius: 16px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); 
            padding: 16px; text-align: center; margin-bottom: 16px; cursor: pointer;
        }
        .logo:hover { transform: translateY(-2px); box-shadow: 0 6px 12px rgba(0,0,0,0.15); }
        
        .menu-area { background: #fff; padding: 8px; border-radius: 8px; margin-bottom: 16px; }
        .input-container { 
            background: #fff; border-radius: 24px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); 
            margin: 8px 16px; overflow: hidden;
        }
        .input-field { 
            width: 100%; height: 48px; border: none; outline: none; padding: 0 16px; 
            font-size: 14px; font-weight: bold; background: transparent;
        }
        
        .btn-row { display: flex; flex-wrap: wrap; margin: 4px 0; }
        .btn { 
            flex: 1; min-width: calc(50% - 8px); margin: 4px; height: 48px; background: #fff;
            border-radius: 24px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); display: flex; 
            align-items: center; justify-content: center; cursor: pointer; transition: all 0.2s;
            font-weight: bold; font-size: 14px; border: none; outline: none;
        }
        .btn:hover { transform: translateY(-1px); box-shadow: 0 4px 8px rgba(0,0,0,0.15); }
        .btn:active { transform: scale(0.95); }
        
        .btn-group { display: none; flex-direction: column; margin: 8px 0; }
        
        .webview-container { 
            width: 100%; height: 60vh; margin: 8px 0 16px; border-radius: 8px; 
            box-shadow: 0 4px 6px rgba(0,0,0,0.1); overflow: hidden; background: #1E1E1E;
        }
        .webview { width: 100%; height: 100%; border: none; background: #fff; }
        
        .exit-btn {
            position: fixed; top: 15px; right: 15px; width: 40px; height: 40px;
            background: #ffffff; color: #000000; border: none; border-radius: 50%;
            cursor: pointer; z-index: 1001; display: none; align-items: center; 
            justify-content: center; font-size: 18px; box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            transition: all 0.3s ease; opacity: 1;
            border: 1px solid #e0e0e0;
        }
        .exit-btn:hover { 
            background: #f5f5f5; 
            transform: scale(1.1); 
            opacity: 1 !important; 
            box-shadow: 0 4px 12px rgba(0,0,0,0.4);
        }
        .exit-btn:active { transform: scale(0.95); }
        
        .hidden { display: none !important; }
        
        .fullscreen { 
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; 
            z-index: 1000; margin: 0; border-radius: 0;
        }
        .fullscreen .webview { height: 100vh; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo" id="logo">ğŸ¬ VIDEO PLAYER(ç‚¹å‡»)</div>
            
            <div class="menu-area" id="menuArea">
                <div class="input-container">
                    <input type="text" class="input-field" id="inputUrl" placeholder="è§†é¢‘åœ°å€/åç§° éŸ³ä¹/æ¼«ç”»åç§°...">
                </div>
                
                <div id="buttonContainer"></div>
            </div>
        </div>
        
        <div class="webview-container" id="webViewContainer">
            <iframe class="webview" id="webView" src="about:blank"></iframe>
        </div>
        
        <button class="exit-btn" id="exitFullscreenBtn">âœ•</button>
        
        <div style="text-align: center; padding: 16px; color: #666; font-size: 12px;">
            <p>PLAYER - æ”¯æŒå¤šç§èµ„æºè§£ææŸ¥æ‰¾</p>
        </div>
    </div>

    <script>
        // é…ç½®æ•°æ®
        const config = {
            categories: [
                { id: 'video', name: 'è§†é¢‘è§£æ', color: '#2196F3' },
                { id: 'resource', name: 'åç§°æœç´¢', color: '#FF9800' },
                { id: 'music', name: 'éŸ³ä¹æœç´¢', color: '#4CAF50' },
                { id: 'search', name: 'æ¼«ç”»æœç´¢', color: '#9C27B0' },
                { id: 'fullscreen', name: 'ç«–å±å…¨å±', action: 'verticalFullscreen' }
            ],
            
            buttons: {
                video: [
                    { text: 'æ’­æ”¾ä¸€', url: url => `https://www.yemu.xyz/v/d.php?url=${extractUrl(url)}` },
                    { text: 'æ’­æ”¾äºŒ', url: url => `https://jx.xmflv.cc/?url=${extractUrl(url)}` },
                    { text: 'æ’­æ”¾ä¸‰', url: url => `https://player.bingdou.vip/?url=${extractUrl(url)}` },
                    { text: 'æ’­æ”¾å››', url: url => `https://www.yemu.xyz/?url=${extractUrl(url)}` },
                    { text: 'æ’­æ”¾äº”', url: url => `https://bd.jx.cn/?url=${extractUrl(url)}` },
                    { text: 'æ’­æ”¾å…­', url: url => `http://111.6.188.162/bbqq.php?url=${extractUrl(url)}` },
                    { text: 'æ’­æ”¾ä¸ƒ', url: url => `https://www.pouyun.com/?url=${extractUrl(url)}` },
                    { text: 'æ’­æ”¾å…«', url: url => `https://jx.2s0.cn/player/?url=${extractUrl(url)}` },
                    { text: 'æ’­æ”¾ä¹', url: url => `https://jx.2s0.cn/player/analysis.php?v=${extractUrl(url)}` },
                    { text: 'æ’­æ”¾å', url: url => `https://jx.nnxv.cn/tv.php?url=${extractUrl(url)}` },
                    { text: 'æ’­æ”¾åä¸€', url: url => `https://jx.aidoubo.net/?url=${extractUrl(url)}` },
                    { text: 'æ’­æ”¾åäºŒ', url: url => `https://jx.m3u8.tv/jiexi/?url=${extractUrl(url)}` },
                    { text: 'è¶…å¼ºè§£æ', url: url => `https://jx.playerjy.com/?url=${extractUrl(url)}` }
                ],
                
                resource: [
                    { text: 'åå­—æœä¸€', url: text => `https://z1.im1907.top/?jx=${text}` },
                    { text: 'åå­—æœäºŒ', url: text => `http://v9j.net/so.php?wd=${text}` },
                    { text: 'åå­—æœä¸‰', url: text => `https://xunlei8.me/s/${text}.html` },
                    { text: 'åå­—æœå››', url: text => `https://moduzy.net/api.php/provide/vod/?ac=detail&wd=${text}&pg=1` },
                    { text: 'èµ„æºä¸€', url: text => `http://yinghuadm.cn/search_-------------.html?wd=${text}` },
                    { text: 'èµ„æºäºŒ', url: text => `https://sszzyy.com/index.php/vod/search.html?wd=${text}` },
                    { text: 'èµ„æºä¸‰', url: text => `https://www.ylys.tv/vodsearch/-------------/wd/${text}` },
                    { text: 'èµ„æºå››', url: text => `http://660f.com/vodsearch/-------------.html?wd=${text}` },
                    { text: 'èµ„æºäº”', url: text => `https://www.czzymovie.com/xsss1O1?q=${text}` },
                    { text: 'èµ„æºå…­', url: text => `https://www.wwgz.cn/index.php?m=vod-search&wd=${text}` },
                    { text: 'èµ„æºä¸ƒ', url: text => `https://www.kan.cc/search.php?searchword=${text}` },
                    { text: 'èµ„æºå…«', url: text => `https://www.88hd.com/vodsearch/-------------.html?wd=${text}` },
                    { text: 'å½±è§†ä¸€', url: () => 'https://www.ynqihan.com/' },
                    { text: 'å½±è§†äºŒ', url: () => 'https://haifengyi.com/' },
                    { text: 'å½±è§†ä¸‰', url: () => 'https://www.puromotors.com/' },
                    { text: 'å½±è§†å››', url: () => 'https://www.4kvm.com/' }
                ],
                
                music: [
                    { text: 'éŸ³ä¹ä¸€', url: text => `https://yym4.com/search/${text}` },
                    { text: 'éŸ³ä¹äºŒ', url: text => `https://www.5song.xyz/search.html?keyword=${text}` },
                    { text: 'éŸ³ä¹ä¸‰', url: text => `https://www.1mp3.top/?key=${text}&search=1` },
                    { text: 'éŸ³ä¹å››', url: text => `https://www.gequhai.com/s/${text}` },
                    { text: 'éŸ³ä¹äº”', url: text => `https://pjmp3.com/search.php?keyword=${text}` },
                    { text: 'éŸ³ä¹å…­', url: text => `https://www.gequbao.com/s/${text}` },
                    { text: 'éŸ³ä¹ä¸ƒ', url: text => `https://www.flmp3.pro/search.html?keyword=${text}` },
                    { text: 'éŸ³ä¹å…«', url: text => `https://www.kuwo.cn/search/list?key=${text}` },
                    { text: 'éŸ³æºä¸€', url: () => 'https://mu-jie.cc/musicBox/' },
                    { text: 'éŸ³æºäºŒ', url: () => 'https://suapi.net/tool/music' },
                    { text: 'éŸ³æºä¸‰', url: () => 'https://www.buguyy.top/' },
                    { text: 'éŸ³æºå››', url: () => 'https://www.qqmp3.vip/' },
                    { text: 'éšæœºä¸€', url: () => 'https://music.mcya.cn/' },
                    { text: 'éšæœºäºŒ', url: () => 'https://netease-music.fe-mm.com/' },
                    { text: 'éšæœºä¸‰', url: () => 'https://music.163.com/' },
                    { text: 'éšæœºå››', url: () => 'https://www.kugou.com/' }
                ],
                
                search: [
                    { text: 'æ¼«ç”»ä¸€', url: text => `https://www.mhw1.com/search?key=${text}` },
                    { text: 'æ¼«ç”»äºŒ', url: text => `https://www.gfmh.app/index.php/search?key=${text}` },
                    { text: 'æ¼«ç”»ä¸‰', url: text => `https://www.colamanga.com/search?type=1&searchString=${text}` },
                    { text: 'æ¼«ç”»å››', url: text => `http://m.bengou.co/statics/search.aspx?key=${text}` },
                    { text: 'æ¼«ç”»äº”', url: text => `https://godamh.com/s/${text}` },
                    { text: 'æ¼«ç”»å…­', url: text => `https://cn.baozimhcn.com/search?q=${text}` },
                    { text: 'æ¼«ç”»ä¸ƒ', url: text => `https://www.manhuagui.com/search/?q=${text}` },
                    { text: 'æ¼«ç”»å…«', url: text => `https://www.dm5.com/search?title=${text}` },
                    { text: 'æ¼«æºä¸€', url: () => 'http://rumanhua1.com/' },
                    { text: 'æ¼«æºäºŒ', url: () => 'https://www.manhuadb.com/' },
                    { text: 'æ¼«æºä¸‰', url: () => 'https://www.177mh.net/' },
                    { text: 'æ¼«æºå››', url: () => 'https://www.mkzhan.com/' }
                ]
            }
        };

        // çŠ¶æ€ç®¡ç†
        const state = {
            fullscreen: false,
            verticalFullscreen: false,
            menuVisible: true,
            categoryVisible: {},
            hideTimeout: null
        };

        // DOMå…ƒç´ 
        const elements = {
            logo: document.getElementById('logo'),
            menuArea: document.getElementById('menuArea'),
            inputUrl: document.getElementById('inputUrl'),
            webView: document.getElementById('webView'),
            webViewContainer: document.getElementById('webViewContainer'),
            exitBtn: document.getElementById('exitFullscreenBtn'),
            buttonContainer: document.getElementById('buttonContainer')
        };

        // å·¥å…·å‡½æ•°
        function extractUrl(text) {
            if (!text) return null;
            const match = text.match(/(https?:\/\/[^\s]+|www\.[^\s]+|[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+\/?[^\s]*)/);
            if (match) {
                let url = match[0];
                if (!url.startsWith('http')) url = 'http://' + url;
                return url;
            }
            return null;
        }

        function copyToClipboard(text) {
            if (!text) return alert("æ²¡æœ‰å†…å®¹å¯å¤åˆ¶");
            const textArea = document.createElement("textarea");
            textArea.value = text;
            document.body.appendChild(textArea);
            textArea.select();
            try {
                document.execCommand('copy');
                alert("é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿");
            } catch {
                alert("æ— æ³•è®¿é—®å‰ªè´´æ¿");
            } finally {
                document.body.removeChild(textArea);
            }
        }

        // åˆ›å»ºæŒ‰é’®
        function createButton(text, onClick, className = 'btn') {
            const button = document.createElement('button');
            button.className = className;
            button.textContent = text;
            button.onclick = onClick;
            return button;
        }

        // åˆ›å»ºæŒ‰é’®ç»„
        function createButtonGroup(buttons, category) {
            const group = document.createElement('div');
            group.className = 'btn-group';
            group.id = `${category}Buttons`;

            // æ¯2ä¸ªæŒ‰é’®ä¸€è¡Œ
            for (let i = 0; i < buttons.length; i += 2) {
                const row = document.createElement('div');
                row.className = 'btn-row';
                
                for (let j = i; j < i + 2 && j < buttons.length; j++) {
                    const btnConfig = buttons[j];
                    const button = createButton(btnConfig.text, () => {
                        if (btnConfig.url) {
                            const inputText = elements.inputUrl.value;
                            const url = btnConfig.url(inputText);
                            if (url) elements.webView.src = url;
                            else alert(btnConfig.text.includes('æ’­æ”¾') ? "è¯·è¾“å…¥æœ‰æ•ˆç½‘å€" : "è¯·è¾“å…¥æœç´¢å†…å®¹");
                        }
                    });
                    row.appendChild(button);
                }
                group.appendChild(row);
            }
            return group;
        }

        // å¤„ç†å·¥å…·æŒ‰é’®åŠ¨ä½œ
        function handleToolAction(action) {
            switch(action) {
                case 'verticalFullscreen':
                    setVerticalFullscreen(true);
                    break;
            }
        }

        // å…¨å±åŠŸèƒ½
        function setFullscreen(full) {
            state.fullscreen = full;
            state.verticalFullscreen = false;
            
            if (full) {
                elements.webViewContainer.classList.add('fullscreen');
                document.body.style.overflow = 'hidden';
                elements.menuArea.classList.add('hidden');
                showExitButton(true);
            } else {
                elements.webViewContainer.classList.remove('fullscreen');
                document.body.style.overflow = 'auto';
                elements.menuArea.classList.remove('hidden');
                showExitButton(false);
            }
        }

        function setVerticalFullscreen(full) {
            state.verticalFullscreen = full;
            state.fullscreen = false;
            
            if (full) {
                elements.webViewContainer.classList.add('fullscreen');
                document.body.style.overflow = 'hidden';
                elements.menuArea.classList.add('hidden');
                showExitButton(true);
            } else {
                elements.webViewContainer.classList.remove('fullscreen');
                document.body.style.overflow = 'auto';
                elements.menuArea.classList.remove('hidden');
                showExitButton(false);
            }
        }

        function showExitButton(show) {
            if (show) {
                elements.exitBtn.style.display = 'flex';
                elements.exitBtn.style.opacity = '1';
                
                clearTimeout(state.hideTimeout);
                state.hideTimeout = setTimeout(() => {
                    elements.exitBtn.style.opacity = '0';
                }, 3000);
            } else {
                elements.exitBtn.style.display = 'none';
                elements.exitBtn.style.opacity = '1';
            }
        }

        function exitFullscreen() {
            setFullscreen(false);
            setVerticalFullscreen(false);
        }

        // åˆå§‹åŒ–ç•Œé¢
        function init() {
            // åˆ›å»ºä¸»æŒ‰é’®ï¼ˆæ¯è¡Œ2ä¸ªï¼‰
            let currentRow = null;
            
            config.categories.forEach((cat, index) => {
                // æ¯2ä¸ªæŒ‰é’®åˆ›å»ºæ–°çš„ä¸€è¡Œ
                if (index % 2 === 0) {
                    currentRow = document.createElement('div');
                    currentRow.className = 'btn-row';
                    elements.buttonContainer.appendChild(currentRow);
                }
                
                const button = createButton(cat.name, () => {
                    if (cat.action) {
                        // å¦‚æœæ˜¯åŠŸèƒ½æŒ‰é’®ï¼ˆå…¨å±ï¼‰
                        handleToolAction(cat.action);
                    } else {
                        // å¦‚æœæ˜¯åˆ†ç±»æŒ‰é’®
                        state.categoryVisible[cat.id] = !state.categoryVisible[cat.id];
                        const group = document.getElementById(`${cat.id}Buttons`);
                        if (group) {
                            group.style.display = state.categoryVisible[cat.id] ? 'flex' : 'none';
                        }
                    }
                }, 'btn');
                
                if (currentRow) {
                    currentRow.appendChild(button);
                }
            });

            // åˆ›å»ºåŠŸèƒ½æŒ‰é’®ç»„
            Object.keys(config.buttons).forEach(category => {
                const group = createButtonGroup(config.buttons[category], category);
                elements.buttonContainer.appendChild(group);
            });

            // äº‹ä»¶ç›‘å¬
            elements.logo.onclick = () => {
                state.menuVisible = !state.menuVisible;
                elements.menuArea.classList.toggle('hidden', !state.menuVisible);
            };

            // ä¿®å¤é€€å‡ºæŒ‰é’®ç‚¹å‡»äº‹ä»¶
            elements.exitBtn.addEventListener('click', exitFullscreen);

            // é¼ æ ‡ç§»åŠ¨åˆ°é€€å‡ºæŒ‰é’®ä¸Šæ—¶æ¢å¤æ˜¾ç¤º
            elements.exitBtn.addEventListener('mouseenter', () => {
                elements.exitBtn.style.opacity = '1';
                clearTimeout(state.hideTimeout);
            });

            elements.exitBtn.addEventListener('mouseleave', () => {
                if (state.fullscreen || state.verticalFullscreen) {
                    state.hideTimeout = setTimeout(() => {
                        elements.exitBtn.style.opacity = '0';
                    }, 3000);
                }
            });
        }

        // å¯åŠ¨
        init();
        console.log("è§†é¢‘æ’­æ”¾å™¨å·²åˆå§‹åŒ– - ç®€åŒ–ç‰ˆ");
    </script>
</body>
  </html>
